import{s as K,e as I,a as B,c as T,f as Z,g as j,b as S,d as y,i as f,k as D,j as C,q as z,n as q,y as P,x as J,z as Q,A as G,B as X}from"./scheduler.3sgOQn-M.js";import{e as A,u as Y,d as x}from"./each.Ez5lwuJs.js";import{S as $,i as ee}from"./index.fH2GeeKy.js";import{m as te}from"./store.K5VdnwKE.js";/* empty css                                               */function N(i,e,t){const a=i.slice();return a[21]=e[t],a[23]=t,a}function U(i,e,t){const a=i.slice();return a[21]=e[t],a[23]=t,a}function R(i){let e,t='<div class="flex items-center justify-center w-full h-full bg-gray-300 rounded dark:bg-gray-700"><svg class="w-10 h-10 text-gray-200 dark:text-gray-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18"><path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"></path></svg></div>';return{c(){e=I("div"),e.innerHTML=t,this.h()},l(a){e=T(a,"DIV",{role:!0,class:!0,"data-svelte-h":!0}),j(e)!=="svelte-19hrt40"&&(e.innerHTML=t),this.h()},h(){f(e,"role","status"),f(e,"class","image-placeholder svelte-1g6t9va")},m(a,l){D(a,e,l)},d(a){a&&y(e)}}}function F(i,e){let t,a,l,u,r,o,w,h,m,g=e[1][e[23]]&&R();function b(){return e[10](e[23])}function M(){return e[11](e[21],e[23])}function V(){return e[12](e[23])}return{key:i,first:null,c(){t=I("div"),g&&g.c(),a=B(),l=I("img"),w=B(),this.h()},l(p){t=T(p,"DIV",{class:!0});var v=Z(t);g&&g.l(v),a=S(v),l=T(v,"IMG",{class:!0,src:!0,alt:!0,loading:!0}),w=S(v),v.forEach(y),this.h()},h(){f(l,"class",u="carousel-image "+(e[1][e[23]]?"hidden":"")+" svelte-1g6t9va"),G(l.src,r=e[21])||f(l,"src",r),f(l,"alt",o="Image "+e[23]),f(l,"loading","lazy"),f(t,"class","image-wrapper svelte-1g6t9va"),this.first=t},m(p,v){D(p,t,v),g&&g.m(t,null),C(t,a),C(t,l),C(t,w),h||(m=[z(l,"load",b),z(l,"click",M),z(l,"error",V)],h=!0)},p(p,v){e=p,e[1][e[23]]?g||(g=R(),g.c(),g.m(t,a)):g&&(g.d(1),g=null),v&3&&u!==(u="carousel-image "+(e[1][e[23]]?"hidden":"")+" svelte-1g6t9va")&&f(l,"class",u),v&1&&!G(l.src,r=e[21])&&f(l,"src",r),v&1&&o!==(o="Image "+e[23])&&f(l,"alt",o)},d(p){p&&y(t),g&&g.d(),h=!1,J(m)}}}function le(i){let e,t,a,l;function u(){return i[14](i[23])}return{c(){e=I("img"),this.h()},l(r){e=T(r,"IMG",{class:!0,src:!0,alt:!0,loading:!0}),this.h()},h(){f(e,"class","thumbnail-image svelte-1g6t9va"),G(e.src,t=i[21])||f(e,"src",t),f(e,"alt","Thumbnail "+i[23]),f(e,"loading","lazy")},m(r,o){D(r,e,o),a||(l=z(e,"load",u),a=!0)},p(r,o){i=r,o&1&&!G(e.src,t=i[21])&&f(e,"src",t)},d(r){r&&y(e),a=!1,l()}}}function ae(i){let e,t='<div role="status" class="image-placeholder svelte-1g6t9va"><div class="flex items-center justify-center w-full h-full bg-gray-300 rounded dark:bg-gray-700"><svg class="w-10 h-10 text-gray-200 dark:text-gray-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18"><path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"></path></svg></div></div>';return{c(){e=I("div"),e.innerHTML=t,this.h()},l(a){e=T(a,"DIV",{role:!0,class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1xuodw5"&&(e.innerHTML=t),this.h()},h(){f(e,"role","status"),f(e,"class","thumbnail-placeholder svelte-1g6t9va")},m(a,l){D(a,e,l)},p:q,d(a){a&&y(e)}}}function W(i){let e,t,a,l;function u(h,m){return h[1][h[23]]?ae:le}let r=u(i),o=r(i);function w(){return i[15](i[23])}return{c(){e=I("button"),o.c(),t=B(),this.h()},l(h){e=T(h,"BUTTON",{type:!0,class:!0});var m=Z(e);o.l(m),t=S(m),m.forEach(y),this.h()},h(){f(e,"type","button"),f(e,"class","thumbnail-button svelte-1g6t9va")},m(h,m){D(h,e,m),o.m(e,null),C(e,t),a||(l=z(e,"click",w),a=!0)},p(h,m){i=h,r===(r=u(i))&&o?o.p(i,m):(o.d(1),o=r(i),o&&(o.c(),o.m(e,t)))},d(h){h&&y(e),o.d(),a=!1,l()}}}function se(i){let e,t,a='<i class="fa-solid fa-arrow-left arrow-icon svelte-1g6t9va"></i>',l,u,r=[],o=new Map,w,h,m='<i class="fa-solid fa-arrow-right arrow-icon svelte-1g6t9va"></i>',g,b,M,V,p=A(i[0]);const v=s=>s[21];for(let s=0;s<p.length;s+=1){let d=U(i,p,s),c=v(d);o.set(c,r[s]=F(c,d))}let L=A(i[0]),_=[];for(let s=0;s<L.length;s+=1)_[s]=W(N(i,L,s));return{c(){e=I("div"),t=I("button"),t.innerHTML=a,l=B(),u=I("div");for(let s=0;s<r.length;s+=1)r[s].c();w=B(),h=I("button"),h.innerHTML=m,g=B(),b=I("div");for(let s=0;s<_.length;s+=1)_[s].c();this.h()},l(s){e=T(s,"DIV",{class:!0});var d=Z(e);t=T(d,"BUTTON",{type:!0,"aria-label":!0,class:!0,"data-svelte-h":!0}),j(t)!=="svelte-annaa5"&&(t.innerHTML=a),l=S(d),u=T(d,"DIV",{class:!0});var c=Z(u);for(let H=0;H<r.length;H+=1)r[H].l(c);c.forEach(y),w=S(d),h=T(d,"BUTTON",{type:!0,"aria-label":!0,class:!0,"data-svelte-h":!0}),j(h)!=="svelte-49b8di"&&(h.innerHTML=m),d.forEach(y),g=S(s),b=T(s,"DIV",{class:!0});var E=Z(b);for(let H=0;H<_.length;H+=1)_[H].l(E);E.forEach(y),this.h()},h(){f(t,"type","button"),f(t,"aria-label","Предыдущий слайд"),f(t,"class","carousel-button left svelte-1g6t9va"),f(u,"class","carousel-container svelte-1g6t9va"),f(h,"type","button"),f(h,"aria-label","Следующий слайд"),f(h,"class","carousel-button right svelte-1g6t9va"),f(e,"class","carousel svelte-1g6t9va"),f(b,"class","thumbnails svelte-1g6t9va")},m(s,d){D(s,e,d),C(e,t),C(e,l),C(e,u);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(u,null);i[13](u),C(e,w),C(e,h),D(s,g,d),D(s,b,d);for(let c=0;c<_.length;c+=1)_[c]&&_[c].m(b,null);M||(V=[z(t,"click",i[3]),z(h,"click",i[4])],M=!0)},p(s,[d]){if(d&451&&(p=A(s[0]),r=Y(r,d,v,1,s,p,o,u,x,F,null,U)),d&163){L=A(s[0]);let c;for(c=0;c<L.length;c+=1){const E=N(s,L,c);_[c]?_[c].p(E,d):(_[c]=W(E),_[c].c(),_[c].m(b,null))}for(;c<_.length;c+=1)_[c].d(1);_.length=L.length}},i:q,o:q,d(s){s&&(y(e),y(g),y(b));for(let d=0;d<r.length;d+=1)r[d].d();i[13](null),P(_,s),M=!1,J(V)}}}function re(i,e,t){let{slug:a}=e,l=[],u=l.map(()=>!0),r,o=0;console.log("Slug:",a),Q(async()=>{await w(),p()});async function w(){try{const n=await fetch(`/api/getGallery?slug=${a}`);if(n.ok){const k=await n.json();t(0,l=k.images),t(1,u=l.map(()=>!1)),console.log("Loaded images:",l)}else console.error("Ошибка при получении данных галереи:",n)}catch(n){console.error("Ошибка загрузки галереи:",n)}}function h(){o=(o-1+l.length)%l.length,M(o)}function m(){o=(o+1)%l.length,M(o)}function g(n){o=n,M(o)}function b(n,k){console.log("Opening full-size image with URL:",n,"and index:",k),te.open("imageView",{imageUrl:n,images:l,currentIndex:k})}function M(n){const k=r.clientWidth*n;r.scroll(k,0)}function V(n){t(1,u[n]=!1,u)}function p(){t(1,u=l.map(()=>!0)),l.forEach((n,k)=>v(n,k))}function v(n,k){const O=new Image;O.src=n,O.onload=()=>{t(1,u[k]=!1,u)},O.onerror=()=>{L(k)}}function L(n){t(1,u[n]=!1,u)}const _=n=>V(n),s=(n,k)=>b(n,k),d=n=>L(n);function c(n){X[n?"unshift":"push"](()=>{r=n,t(2,r)})}const E=n=>V(n),H=n=>g(n);return i.$$set=n=>{"slug"in n&&t(9,a=n.slug)},[l,u,r,h,m,g,b,V,L,a,_,s,d,c,E,H]}class fe extends ${constructor(e){super(),ee(this,e,re,se,K,{slug:9})}}export{fe as C};
